!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";t.a="_PayPayJsBridge"},function(e,t,n){"use strict";n.r(t),function(e){var t,a,o=n(0);n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t="undefined"==typeof window?void 0:window,a=function(e){if(!e.document)return{};var t=window[o.a],n={useable:!1,init:function(e){return e.init(function(e,t){console.log("JS got a message from native",e);var n={"Javascript Responds":"receive success!"};console.log("JS responding with",n),t(n)}),this.usable=!0,this},checkUsable:function(e,n,a){var o=this;if(t)try{t.callHandler(e,n,function(e){o.defaultHandlee(e,a)})}catch(e){a({status:"-1",msg:e},{})}else a({status:"-1",msg:"window jsBridge is undefined"},{})},getSystemInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.checkUsable("getSystemInfo",e,t)},getGeoInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.checkUsable("getGeoInfo",e,t)},getCompassInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.checkUsable("getCompassInfo",e,t)},setTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.checkUsable("setTitle",{title:e.title},t)},checkGpsAvailable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.checkUsable("checkGpsAvailable",e,t)},closeWebview:function(){this.checkUsable("closeWebview")},changeCloseableStatus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=Object.assign({},t);this.checkUsable("changeCloseableStatus",t,function(){n(),e.changeCloseableStatus(a,n)})},defaultHandlee:function(e,t){switch(~~e.status){case 1:console.log("bridge method success!"),t(null,e.msg);break;case 0:console.log("bridge method execute err, errMsg: ".concat(e.msg));case-1:console.log("bridge method doesn't exist, errMsg: ".concat(e.msg));default:t({status:e.status,msg:e.msg},e.msg)}}};return t?(console.log("native injection js success!"),n.init(t)):(console.log("native injection js wrong!"),document.addEventListener("".concat(o.a,"Ready"),function(){n.init(t)},!1)),n},"function"==typeof define&&n(4)?define("PayPayJsBridge",[],function(){return t.PayPayJsBridge=a(t)}):"object"===i(e)&&e.exports?e.exports.default=a(t):t.PayPayJsBridge=a(t)}.call(this,n(2)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var a=n(0);!function(){if(!window[a.a]){var e=[],t={},n={},o=1,i=function(e){console.log("======> PayPayJsBridge: ".concat(e))},c=function(e,t){if(t){var a="cb_".concat(o++,"_").concat((new Date).getTime());n[a]=t,e.callbackId=a}i("start, callbackId:       ".concat(e.callbackId,"; message: ").concat(JSON.stringify(e),";       responseCallbacks: ").concat(n[e.callbackId],"     ")),null!=window.webkit?window.webkit.messageHandlers[e.handlerName].postMessage(e):window.messageHandlers[e.handlerName](JSON.stringify(e))},s=window[a.a]={init:function(t){var n=window[a.a];if(i("start initial"),n._messageHandler)throw new Error("bridge.init called twice");n._messageHandler=t||new Function;var o=e;e=null,i("receiveMessageQueue = null");for(var c=0;c<o.length;c++)_dispatchMessageFromNative(o[c]);for(var s in o)this._dispatchMessageFromNative(s)},registerHandler:function(e,n){t[e]=n,i("registerHandler : ".concat(e))},callHandler:function(e,t,n){c({handlerName:e,params:t},n),i("start send callHandler ".concat(e))},_dispatchMessageFromNative:function(e){setTimeout(function(){var a,o;try{o=JSON.parse(JSON.stringify(e))}catch(e){o=e}i("run _dispatchMessageFromNative: ".concat(JSON.stringify(o)));var s=o,r=s.responseId,l=s.handlerName,d=s.responseData,u=s.params;if(r){if(!(a=n[r]))return void i("responseCallback for ".concat(r," doesn't exist!"));i("run responseCallback ".concat(JSON.stringify(d))),a(d),delete n[r],i("deleted ".concat(r,"'s callback."))}else{if(callbackId){var f=callbackId;a=function(e){c({responseId:f,data:e||{}})},i("receive native call js method, responseId: ".concat(callbackId))}else i("receive native call js method with no responseId !!! cb Msg: ".concat(o));var g=_bridge._messageHandler;l?t[l]?g=t[l]:(i("Js can't find correspond method for native call."),c({responseId:o.callbackId,data:{status:"-1",msg:"Js can't find correspond method."}})):i("Js can't find respond.handlerName for native call.");try{g(u,a)}catch(e){"undefined"!=typeof console&&i("WARNING: javascript handler threw. ".concat(o,", ").concat(e))}}})},_handleMessageFromNative:function(t){i(t),e?e.push(t):this._dispatchMessageFromNative(t)}},r=document.createEvent("Events");r.initEvent("".concat(a.a,"Ready")),r.bridge=s,document.dispatchEvent(r)}}()},function(e,t){(function(t){e.exports=t}).call(this,{})}]);
